// android/app/build.gradle

plugins {
    id "com.android.application"
    // => DOIT correspondre à "org.jetbrains.kotlin.android" (pas "kotlin-android")
    id "org.jetbrains.kotlin.android"
    // => Le plugin Flutter doit être appliqué APRÈS les plugins Android/Kotlin
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    // Harmonise la namespace avec ton package Kotlin (si tu le souhaites)
    namespace = "com.example.flutter_application_1"
    compileSdk = 34

    // (Optionnel) ndkVersion => si ton flutter l'exige
    // ndkVersion = flutter.ndkVersion

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }

    defaultConfig {
        // Ton applicationId => c'est le vrai ID pour le Play Store
        // tu peux aussi mettre "com.example.flutter_application_1"
        applicationId = "com.example.flutter_application_1"
        minSdk = 21
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
    }

    buildTypes {
        release {
            // On utilise debug keys par défaut, si tu veux signer en release => config perso
            signingConfig signingConfigs.debug
        }
    }
}

// Flutter block => indique où se trouve le code Flutter
flutter {
    source = "../.."
}

// Dépendances spécifiques si besoin
dependencies {
    // Ex: Google Play services auth, etc.
    // implementation "com.google.android.gms:play-services-auth:20.5.0"
}
